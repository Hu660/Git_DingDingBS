<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>石头剪刀布小游戏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "微软雅黑", sans-serif;
        }

        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #game-container {
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
            text-align: center;
        }

        /* 开始界面样式 */
        #start-screen {
            margin-bottom: 20px;
        }
        #start-btn {
            width: 100%;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        #start-btn:hover {
            transform: scale(1.05);
        }
        #start-btn img {
            width: 100%;
            border-radius: 10px;
        }

        /* 游戏数据展示 */
        #game-stats {
            display: none;
            margin: 15px 0;
            display: flex;
            justify-content: space-around;
            background-color: #605CB3;
            color: white;
            padding: 10px;
            border-radius: 8px;
        }
        .stat-item h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        .stat-item p {
            font-size: 20px;
            font-weight: bold;
        }

        /* 选择结果展示 */
        #result-area {
            display: none;
            margin: 20px 0;
            display: flex;
            justify-content: space-around;
        }
        #result-area img {
            width: 80px;
            height: 90px;
            object-fit: contain;
        }
        .role-text {
            font-size: 14px;
            margin-top: 5px;
            color: #333;
        }

        /* 玩家选择区 */
        #player-choice {
            display: none;
            margin: 20px 0;
            display: flex;
            justify-content: space-around;
        }
        .choice-btn {
            border: none;
            background: none;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        .choice-btn:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        .choice-btn img {
            width: 70px;
            height: 80px;
            object-fit: contain;
        }

        /* 游戏结束界面 */
        #game-over {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 220px;
            background: url("imges/over.jpg") no-repeat center / cover;
            border-radius: 10px;
            text-align: center;
            padding-top: 95px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        #over-message {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- 开始界面 -->
        <div id="start-screen">
            <button id="start-btn">
                <!-- <img src="imges/start.jpg" alt="开始游戏"> -->
                 <h4>开始游戏</h4>
            </button>
        </div>

        <!-- 游戏数据统计 -->
        <div id="game-stats">
            <div class="stat-item">
                <h3>生命值</h3>
                <p id="life-count">10</p>
            </div>
            <div class="stat-item">
                <h3>积分</h3>
                <p id="score-count">0</p>
            </div>
            <div class="stat-item">
                <h3>玩家胜</h3>
                <p id="player-win">0</p>
            </div>
            <div class="stat-item">
                <h3>AI胜</h3>
                <p id="ai-win">0</p>
            </div>
        </div>

        <!-- 结果展示区 -->
        <div id="result-area">
            <div>
                <p class="role-text">AI</p>
                <img id="ai-choice-img" src="imges/noselect.jpg" alt="AI选择">
            </div>
            <div>
                <p class="role-text">玩家</p>
                <img id="player-choice-img" src="imges/noselect.jpg" alt="玩家选择">
            </div>
        </div>

        <!-- 玩家选择按钮 -->
        <div id="player-choice">
            <button class="choice-btn" data-type="1">
                <img src="imges/1.jpg" alt="布">
            </button>
            <button class="choice-btn" data-type="2">
                <img src="imges/2.jpg" alt="剪刀">
            </button>
            <button class="choice-btn" data-type="3">
                <img src="imges/3.jpg" alt="石头">
            </button>
        </div>

        <!-- 游戏结束界面 -->
        <div id="game-over"></div>
    </div>

    <script>
        // 游戏全局变量
        let lifeCount = 10;    // 生命值
        let playerWin = 0;     // 玩家胜利次数
        let aiWin = 0;         // AI胜利次数
        let score = 0;         // 积分

        // DOM 元素获取
        const startBtn = document.getElementById('start-btn');
        const startScreen = document.getElementById('start-screen');
        const gameStats = document.getElementById('game-stats');
        const resultArea = document.getElementById('result-area');
        const playerChoice = document.getElementById('player-choice');
        const gameOver = document.getElementById('game-over');
        const aiChoiceImg = document.getElementById('ai-choice-img');
        const playerChoiceImg = document.getElementById('player-choice-img');
        
        // 数据展示元素
        const lifeCountEl = document.getElementById('life-count');
        const scoreCountEl = document.getElementById('score-count');
        const playerWinEl = document.getElementById('player-win');
        const aiWinEl = document.getElementById('ai-win');

        // 初始化游戏
        startBtn.addEventListener('click', initGame);

        // 初始化游戏状态
        function initGame() {
            // 重置数据
            lifeCount = 10;
            playerWin = 0;
            aiWin = 0;
            score = 0;
            
            // 更新数据展示
            updateStats();
            
            // 隐藏开始界面，显示游戏界面
            startScreen.style.display = 'none';
            gameStats.style.display = 'flex';
            resultArea.style.display = 'flex';
            playerChoice.style.display = 'flex';
            gameOver.style.display = 'none';
            
            // 重置选择图片
            aiChoiceImg.src = 'imges/noselect.jpg';
            playerChoiceImg.src = 'imges/noselect.jpg';
            
            // 绑定玩家选择事件
            bindChoiceEvent();
        }

        // 绑定玩家选择按钮事件
        function bindChoiceEvent() {
            const choiceBtns = document.querySelectorAll('.choice-btn');
            choiceBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const playerType = parseInt(this.dataset.type);
                    playGame(playerType);
                });
            });
        }

        // 核心游戏逻辑
        function playGame(playerType) {
            // 生成AI选择（1=布，2=剪刀，3=石头）
            const aiType = Math.floor(Math.random() * 3 + 1);
            
            // 更新选择图片
            aiChoiceImg.src = `imges/${aiType}.jpg`;
            playerChoiceImg.src = `imges/${playerType}.jpg`;
            
            // 判断胜负
            judgeResult(playerType, aiType);
            
            // 减少生命值
            lifeCount--;
            lifeCountEl.textContent = lifeCount;
            
            // 检查游戏是否结束
            if (lifeCount <= 0) {
                endGame();
            }
        }

        // 判断胜负并更新数据
        function judgeResult(player, ai) {
            // 1=布 2=剪刀 3=石头
            if (player === ai) {
                // 平局，加1分
                score += 1;
            } else if (
                (player === 1 && ai === 3) || 
                (player === 2 && ai === 1) || 
                (player === 3 && ai === 2)
            ) {
                // 玩家胜利，加3分
                playerWin++;
                score += 3;
                playerWinEl.textContent = playerWin;
            } else {
                // AI胜利
                aiWin++;
                aiWinEl.textContent = aiWin;
            }
            
            // 更新积分
            scoreCountEl.textContent = score;
        }

        // 更新游戏数据展示
        function updateStats() {
            lifeCountEl.textContent = lifeCount;
            scoreCountEl.textContent = score;
            playerWinEl.textContent = playerWin;
            aiWinEl.textContent = aiWin;
        }

        // 游戏结束处理
        function endGame() {
            // 隐藏游戏界面，显示结束界面
            gameStats.style.display = 'none';
            resultArea.style.display = 'none';
            playerChoice.style.display = 'none';
            gameOver.style.display = 'block';
            
            // 计算胜率
            const winRate = playerWin === 0 ? 0 : Math.round((playerWin / 10) * 100);
            
            // 创建结束提示文字
            const overMsg = document.createElement('div');
            overMsg.id = 'over-message';
            overMsg.textContent = `你战胜AI ${playerWin} 次，胜率 ${winRate}%！点击重新开始`;
            gameOver.innerHTML = '';
            gameOver.appendChild(overMsg);
            
            // 点击结束界面重新开始
            gameOver.addEventListener('click', initGame);
        }
    </script>
</body>
</html>